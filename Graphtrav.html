<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Graph Traversal Explained Properly</title>

<style>
body {
  margin: 0;
  background: #0b0f1a;
  color: #e5e7eb;
  font-family: system-ui, sans-serif;
  display: flex;
  height: 100vh;
}

#graphArea {
  width: 55%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
}

#textArea {
  width: 45%;
  background: #020617;
  padding: 20px;
  overflow-y: auto;
  border-left: 1px solid #1e293b;
}

h1, h2 {
  margin-top: 0;
}

button {
  background: #1f2937;
  color: white;
  border: 1px solid #334155;
  padding: 10px 16px;
  margin: 6px;
  border-radius: 6px;
  cursor: pointer;
}

button:hover {
  background: #334155;
}

svg {
  background: #020617;
  border-radius: 12px;
  margin-top: 10px;
}

.node {
  fill: #1f2937;
  stroke: #475569;
  stroke-width: 2;
}

.node.visited {
  fill: #22c55e;
}

.edge {
  stroke: #334155;
  stroke-width: 2;
}

.step {
  margin-top: 12px;
  padding: 10px;
  background: #020617;
  border: 1px solid #1e293b;
  border-radius: 6px;
}
</style>
</head>

<body>

<div id="graphArea">
  <h1>Graph Traversal</h1>

  <div>
    <button onclick="startBFS()">‚ñ∂ Breadth-First Search</button>
    <button onclick="startDFS()">‚ñ∂ Depth-First Search</button>
  </div>

  <svg width="460" height="300">
    <line class="edge" x1="230" y1="40" x2="130" y2="140"/>
    <line class="edge" x1="230" y1="40" x2="330" y2="140"/>
    <line class="edge" x1="130" y1="140" x2="80" y2="240"/>
    <line class="edge" x1="130" y1="140" x2="180" y2="240"/>
    <line class="edge" x1="330" y1="140" x2="280" y2="240"/>
    <line class="edge" x1="330" y1="140" x2="380" y2="240"/>

    <circle id="A" class="node" cx="230" cy="40" r="20"/>
    <circle id="B" class="node" cx="130" cy="140" r="20"/>
    <circle id="C" class="node" cx="330" cy="140" r="20"/>
    <circle id="D" class="node" cx="80" cy="240" r="20"/>
    <circle id="E" class="node" cx="180" cy="240" r="20"/>
    <circle id="F" class="node" cx="280" cy="240" r="20"/>
    <circle id="G" class="node" cx="380" cy="240" r="20"/>
  </svg>
</div>

<div id="textArea">
  <h2>Read this first üëá</h2>

  <div class="step">
    <b>What is a graph?</b><br><br>
    A graph is made of <b>points</b> (called nodes) and <b>lines</b> (called edges).<br><br>
    You can imagine nodes as houses and edges as roads connecting them.
  </div>

  <div class="step">
    <b>What is graph traversal?</b><br><br>
    Traversal means <b>visiting every node</b> in a graph in a controlled way.<br><br>
    Computers need rules so they don‚Äôt get lost or keep visiting the same node forever.
  </div>

  <div class="step">
    <b>Why do we track ‚Äúvisited‚Äù nodes?</b><br><br>
    Some graphs have loops.<br>
    If we don‚Äôt remember where we‚Äôve been, the computer would go around forever.<br><br>
    So we mark nodes as <b>visited</b>.
  </div>

  <div class="step">
    <b>Breadth-First Search (BFS)</b><br><br>
    BFS looks at <b>all nearby nodes first</b> before going further away.<br><br>
    It uses a <b>queue</b> so nodes are visited in the order they are discovered.<br><br>
    This is why BFS can find the <b>shortest path</b>.
  </div>

  <div class="step">
    <b>Depth-First Search (DFS)</b><br><br>
    DFS goes <b>as deep as possible</b> down one path before coming back.<br><br>
    It uses a <b>stack</b> (or recursion).<br><br>
    This is useful for exploring every possible route.
  </div>

  <div id="liveExplanation" class="step">
    Press BFS or DFS to see this explained step by step.
  </div>
</div>

<script>
const graph = {
  A: ["B", "C"],
  B: ["D", "E"],
  C: ["F", "G"],
  D: [], E: [], F: [], G: []
};

function reset() {
  document.querySelectorAll(".node").forEach(n =>
    n.classList.remove("visited")
  );
}

function explain(text) {
  document.getElementById("liveExplanation").innerHTML = text;
}

function visit(node, delay, text) {
  setTimeout(() => {
    document.getElementById(node).classList.add("visited");
    explain(text);
  }, delay);
}

function startBFS() {
  reset();
  let queue = ["A"];
  let visited = new Set();
  let time = 0;

  explain(
    "<b>BFS starts.</b><br><br>" +
    "We start at node A.<br>" +
    "We will visit all nearby nodes before moving further away."
  );

  while (queue.length) {
    let node = queue.shift();
    if (!visited.has(node)) {
      visited.add(node);
      visit(
        node,
        time,
        "We are visiting node <b>" + node + "</b>.<br><br>" +
        "We mark it as visited so we don‚Äôt come back here again.<br><br>" +
        "Its neighbours are added to the <b>queue</b>."
      );
      time += 1200;
      graph[node].forEach(n => queue.push(n));
    }
  }
}

function startDFS() {
  reset();
  let stack = ["A"];
  let visited = new Set();
  let time = 0;

  explain(
    "<b>DFS starts.</b><br><br>" +
    "We start at node A.<br>" +
    "We will go as deep as possible before coming back."
  );

  while (stack.length) {
    let node = stack.pop();
    if (!visited.has(node)) {
      visited.add(node);
      visit(
        node,
        time,
        "We are visiting node <b>" + node + "</b>.<br><br>" +
        "DFS continues down this path before trying others.<br><br>" +
        "This uses a <b>stack</b>."
      );
      time += 1200;
      graph[node].slice().reverse().forEach(n => stack.push(n));
    }
  }
}
</script>

</body>
</html>
